<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Students Management - Admin</title>
  <link rel="stylesheet" href="../assets/css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script src="../assets/js/student.js" defer></script>
</head>
<body class="admin">
  <!-- Sidebar -->
  <div class="sidebar">
    <h2>Admin Panel</h2>
    <a href="dashboard.html"><i class="fas fa-home"></i> Dashboard</a>
    <a href="users.html"><i class="fas fa-users"></i> Users</a>
    <a href="students.html" class="active"><i class="fas fa-user-graduate"></i> Students</a>
    <a href="course-management.html"><i class="fas fa-book"></i> Courses</a>
    <a href="materials.html"><i class="fas fa-folder-open"></i> Materials</a>
    <a href="reports.html"><i class="fas fa-chart-line"></i> Reports</a>
    <a href="../index.html"><i class="fas fa-sign-out-alt"></i> Logout</a>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <header>
      <div class="logo">👨‍🎓 Students Management</div>
      <div class="user-menu">
        <img src="../assets/images/avatar.png" alt="Admin Avatar" />
        <span>Admin</span>
      </div>
    </header>

    <!-- Summary Cards -->
    <div class="cards">
      <div class="card">
        <i class="fas fa-user-graduate"></i>
        <h3 id="total-students">0</h3>
        <p>Total Students</p>
      </div>
      <div class="card">
        <i class="fas fa-check-circle"></i>
        <h3 id="active-students">0</h3>
        <p>Active Students</p>
      </div>
      <div class="card">
        <i class="fas fa-user-times"></i>
        <h3 id="inactive-students">0</h3>
        <p>Inactive Students</p>
      </div>
    </div>

    <!-- Students Table -->
    <div class="table-container">
      <div style="margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center;">
        <button class="btn-primary" onclick="openModal()">Add Student</button>
        <input
          type="text"
          id="searchInput"
          placeholder="Search by name or email..."
          style="padding: 8px 12px; border-radius: 8px; border: 1px solid #ccc; width: 250px;"
        />
      </div>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Course</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="studentTableBody">
          <!-- Students will be rendered here -->
        </tbody>
      </table>
    </div>
  </div>

  <!-- Modal for Add/Edit Student -->
  <div id="studentModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; justify-content: center; align-items: center;">
    <div style="background: white; padding: 20px; border-radius: 8px; width: 400px;">
      <h3 id="modalTitle">Add Student</h3>
      <form onsubmit="event.preventDefault(); saveStudent();">
        <div style="margin-bottom: 10px;">
          <label for="studentName">Name</label>
          <input type="text" id="studentName" required style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;" />
        </div>
        <div style="margin-bottom: 10px;">
          <label for="studentEmail">Email</label>
          <input type="email" id="studentEmail" required style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;" />
        </div>
        <div style="margin-bottom: 10px;">
          <label for="studentCourse">Course</label>
          <input type="text" id="studentCourse" required style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;" />
        </div>
        <div style="margin-bottom: 10px;">
          <label for="studentStatus">Status</label>
          <select id="studentStatus" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
            <option value="Active">Active</option>
            <option value="Inactive">Inactive</option>
          </select>
        </div>
        <div style="display: flex; justify-content: flex-end; gap: 10px;">
          <button type="button" onclick="closeModal()" style="padding: 8px 16px; background: #ccc; border: none; border-radius: 4px;">Cancel</button>
          <button type="submit" style="padding: 8px 16px; background: #4a90e2; color: white; border: none; border-radius: 4px;">Save</button>
        </div>
      </form>
    </div>
  </div>
</body>
</html>
